{% extends "base.html" %}

{% block content %}
<div class="container-fluid">
    <h1 class="heading">dein Wörterbuch</h1>
    <div class="row flex-column flex-md-row justify-content-center align-items-start">

        <!-- FORM (left column on desktop) -->
        <div class="col-12 col-md-6 px-3">
            <form method="POST" action="{{ url_for('insert') }}" class="w-100">
                <div class="card-body">
                    <div class="user-input-div" tabindex="0">
                        <small class="form-text text-muted">deutches Wort</small>
                        <input type="text" class="form-control user-input" autocapitalize="off" name="german_word" required>
                    </div>
                    <div class="user-input-div mb-4" tabindex="0">
                        <small class="form-text text-muted">deine Übersetzung</small>
                        <input type="text" class="form-control user-input" autocapitalize="off" name="german_translated_word" required>
                    </div>
                    <div class="d-grid text-center">
                        <button type="submit" class="btn btn-outline-info">einfügen</button>
                    </div>
                </div>
            </form>
        </div>

        <!-- TABLE (right column on desktop only) -->
        <div class="col-12 col-md-6 px-3">
            <input class="form-control input input-search-dictionary rounded-2 mb-2 w-100" type="text" autocapitalize="off" placeholder="suche nach dem Wort" id="search_input_text_insert" oninput="filterWordsDictionary()">

                <form class="form-dictionary w-100" method="POST" action="{{ url_for('dictionary') }}">
                    <div class="table-wrapper">
                        <table class="table table-dark table-standard table-dictionary">
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>deutches Wort</th>
                                    <th>deine Übersetzung</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for word in words %}
                                <tr class="word_row">
                                    <td>
                                        <form method="POST" action="{{ url_for('delete_word_insert') }}" onsubmit="return confirm('Willst du dieses Wort löschen?')">
                                            <input type="hidden" name="word_id" value="{{ word.id }}">
                                            <button type="submit" class="btn-id">
                                                {{ word.user_word_id }}
                                            </button>
                                        </form>
                                    </td>
                                    <td class="editable-word"
                                        data-word-id="{{ word.id }}"
                                        data-column="german_word"
                                        data-table="GermanWords"
                                        onfocus="focusRow(this.parentElement)"
                                        onclick="toggleVisibility(this)">
                                        <div>{{ word.german_word }}</div>
                                        <input type="hidden" name="german_word_{{ word.id }}" value="{{ word.german_word }}">
                                    </td>

                                    <td class="editable-word"
                                        data-word-id="{{ word.id }}"
                                        data-column="german_translated_word"
                                        data-table="GermanWords"
                                        onfocus="focusRow(this.parentElement)"
                                        onclick="toggleVisibility(this)">
                                        <div>{{ word.german_translated_word }}</div>
                                        <input type="hidden" name="german_translated_word_{{ word.id }}" value="{{ word.german_translated_word }}">
                                    </td>

                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>    
                    </div>
                </form>
        </div>
    </div>
</div>

<script src="{{ url_for('static', filename='scripts.js') }}" defer></script>



{% endblock %}
